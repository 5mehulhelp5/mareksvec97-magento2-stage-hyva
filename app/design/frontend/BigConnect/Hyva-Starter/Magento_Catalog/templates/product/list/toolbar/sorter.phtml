<?php
declare(strict_types=1);

use Magento\Catalog\Block\Product\ProductList\Toolbar;

/** @var Toolbar $block */

$orders       = (array) $block->getAvailableOrders();
$currentOrder = (string) ($block->getCurrentOrder() ?: $block->getDefaultOrder());
$currentDir   = strtolower((string) ($block->getCurrentDirection() ?: ($block->getDefaultDirection() ?: 'asc')));

$pagerUrl = function (string $code) use ($block, $currentDir): string {
    return (string) $block->getPagerUrl([
        'product_list_order' => $code,
        'product_list_dir'   => $currentDir,
    ]);
};
?>

<?php if ($orders): ?>
  <div class="flex items-center gap-2 overflow-x-auto pb-2 px-6"
       style="-ms-overflow-style:none; scrollbar-width:none;">
    <?php foreach ($orders as $code => $label): ?>
      <?php
        $code = (string) $code;
        $isActive = ($currentOrder === $code);
      ?>
      <a
        href="<?= $block->escapeUrl($pagerUrl($code)) ?>"
        class="px-6 py-2.5 rounded-full whitespace-nowrap transition-all font-medium text-sm
               <?= $isActive ? 'bg-primary text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200' ?>"
        aria-current="<?= $isActive ? 'true' : 'false' ?>"
      >
        <?= $block->escapeHtml(__($label)) ?>
      </a>
    <?php endforeach; ?>
  </div>

  <!-- hide scrollbar for webkit -->
  <style>
    .toolbar-sort-pills::-webkit-scrollbar { display: none; }
  </style>
<?php endif; ?>
