<?xml version="1.0"?>
<!--
/**
 * Hyvä Themes - https://hyva.io
 * Copyright © Hyvä Themes 2020-present. All rights reserved.
 * This product is licensed per Magento install
 * See https://hyva.io/license
 */
-->
<page
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd"
>
    <body>
        <referenceContainer name="product.info">
            <block
                class="Magento\Framework\View\Element\Template"
                name="product.contact.form"
                template="Magento_Catalog::product/view/contact-form.phtml"
                after="-"
            /> 
        </referenceContainer>
        <referenceBlock name="page.main.title">
                  <action method="setTemplate">
                      <argument name="template" xsi:type="string">Magento_Theme::html/product-title.phtml</argument>
                  </action>
              </referenceBlock>
        <move element="page.main.title" destination="product.info" before="-" />
        <referenceContainer name="page.wrapper">
                
            <block
                class="Magento\Catalog\Block\Product\View"
                name="product.info.addtocart.sticky"
                template="Magento_Catalog::product/view/addtocart-sticky.phtml"
                after="-"
            >
                <arguments>
                    <argument name="mobile_only" xsi:type="boolean">false</argument> <!-- Hide the Sticky.ATC on desktop -->
                    <argument name="truncate_title" xsi:type="boolean">true</argument> <!-- Don't allow the title to wrap -->
                    <argument name="only_show_after_add_to_cart" xsi:type="boolean">true</argument> <!-- Only show after passing the ATC btn -->
                </arguments>
                <block
                    class="Magento\Catalog\Block\Product\Price"
                    name="product.info.price.sticky"
                    template="Magento_Catalog::product/view/price.phtml"
                    as="price"
                />
                
            </block>
        </referenceContainer>
        <referenceBlock name="product.info.details">
            <arguments>
                <argument name="divider" xsi:type="boolean">false</argument>
            </arguments>

            <!-- odstránime default taby -->
            <referenceBlock name="description" remove="true"/>
            <referenceBlock name="fme.pricecalculator" remove="true"/>
            <referenceBlock name="product.attributes" remove="true"/>

            <!-- náš spoločný tab -->
            <block class="Magento\Catalog\Block\Product\View"
                   name="product.descattrs"
                   template="Magento_Catalog::product/view/sections/descattrs.phtml"
                   group="detailed_info">
                <arguments>
                    <argument name="title" xsi:type="string" translate="true">Popis &amp; Parametre</argument>
                    <argument name="sort_order" xsi:type="number">-20</argument>
                    <argument name="icon" xsi:type="string">doc</argument> <!-- dokument -->
                </arguments>

                <block class="Magento\Catalog\Block\Product\View\Attributes"
                       name="product.attributes.embedded"
                       template="Magento_Catalog::product/view/attributes.phtml"/>
            </block>

            <!-- RECENZIE – POZOR: správny názov bloku je produkt.reviews -->
            <referenceBlock name="product.reviews">
                <arguments>
                    <argument name="title" xsi:type="string" translate="true">Hodnotenia</argument>
                    <argument name="icon" xsi:type="string">star</argument> <!-- hviezda -->
                </arguments>
            </referenceBlock>
        </referenceBlock>

    </body>
</page>
