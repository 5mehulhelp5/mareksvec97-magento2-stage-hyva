<?php
/**
 * Hyvä Themes - https://hyva.io
 * Copyright © Hyvä Themes 2022-present. All rights reserved.
 * This product is licensed per Magento install
 * See https://hyva.io/license
 */

declare(strict_types=1);

use Hyva\Checkout\ViewModel\Navigation;
use Hyva\Theme\Model\ViewModelRegistry;
use Magento\Framework\Escaper;
use Magento\Framework\View\Element\Template;

/** @var Template $block */
/** @var ViewModelRegistry $viewModels */
/** @var Escaper $escaper */
/** @var Navigation $viewModel */

$viewModel = $viewModels->require(Navigation::class);
$navigator = $viewModel->getNavigator();
$checkout  = $navigator->getActiveCheckout();
$next      = $checkout->getStepAfter($navigator->getActiveStep())
?>
<?php if ($next === null): ?>
    <button type="button"
            class="btn-action btn-action-lg group btn-size-lg"
            x-bind="buttonPlaceOrder"
    >
        <?= $escaper->escapeHtml(__('Place Order')) ?>
    </button>
<?php endif ?>
