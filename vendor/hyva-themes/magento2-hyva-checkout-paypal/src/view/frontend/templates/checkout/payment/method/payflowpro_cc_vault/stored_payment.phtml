<?php
/**
 * Hyvä Themes - https://hyva.io
 * Copyright © Hyvä Themes 2022-present. All rights reserved.
 * This product is licensed per Magento install
 * See https://hyva.io/license
 */
declare(strict_types=1);

use Magento\Framework\Escaper;
use Magento\Paypal\Block\Payflow\Customer\CardRenderer;

/** @var Escaper $escaper */
/** @var CardRenderer $block */
$i = $block->getParentBlock()->getData('cards_row_number') + 1 ?? 0;
$block->getParentBlock()->setData('cards_row_number', $i);
$ccNumberView = $escaper->escapeHtml($block->getNumberLast4Digits());
// phpcs:disable Generic.Files.LineLength.TooLong
?>
<div class="pp-card-view relative card rounded-lg w-64 h-40 md:w-72 md:h-44 <?= $i % 2 === 0 ? 'bg-yellow-100' : 'bg-blue-100' ?>">
    <div class="pp-card-ending p-2 flex items-center bg-gray-50 text-gray-700 font-semibold">
        <div class="text-sm">
            <span class="hidden lg:inline">
                <?= $escaper->escapeHtml(__('ending')) ?>
            </span> <?= /* @noEscape */ $ccNumberView ?>
        </div>
    </div>
    <div class="pp-card-expire p-2 flex mt-4">
        <div class="text-sm"><?= $escaper->escapeHtml($block->getExpDate()) ?></div>
    </div>
    <div class="pp-card-icon p-2 flex items-center absolute bottom-2 right-2">
        <div class="text-sm">
            <img src="<?= /* @noEscape */ $block->getIconUrl() ?>"
                 width="<?= /* @noEscape */ $block->getIconWidth() ?>"
                 height="<?= /* @noEscape */ $block->getIconHeight() ?>"
                 alt=""
            />
        </div>
    </div>
</div>

